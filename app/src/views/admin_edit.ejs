<%- include('admin_nav.ejs') %>
    <h4 class="container mt-4"><strong>ê¸€ ìˆ˜ì •í˜ì´ì§€</strong></h4>
    <div class="container mt-3">
        <div class="form-group">
            <form action="/admin/edit?_method=PUT" method="POST" id="form1">
                <input type="text" name="id" value="<%= post._id %>" style="display:none;">
                <div class="form-group">
                    <div class="mb-3">
                        <label for="title" class="form-label">ì œëª©</label>
                        <input type="text" class="form-control" value="<%=post.ì œëª©%>" name="title" id="title">
                        <span id="titleError" style="color: red; display: none;"></span>
                    </div>
                    <div class="mb-3">
                        <label for="director" class="form-label">ê°ë…</label>
                        <input type="text" class="form-control" value="<%=post.ê°ë…%>" name="director" id="director">
                        <span id="dirError" style="color: red; display: none;"></span>
                    </div>
                    <div class="mb-3">
                        <label for="actor" class="form-label">ì£¼ì—°ë°°ìš°</label>
                        <input type="text" class="form-control" value="<%=post.ì£¼ì—°%>" name="actor" id="actor">
                        <span id="actorError" style="color: red; display: none;"></span>
                    </div>
                    <div class="row row-cols-4">
                        <div class="col">
                            <label for="year" class="form-label">ì¶œì‹œë…„ë„</label>
                            <select class="form-select mb-3" aria-label="Default select example" name="year" id="year">
                                <option value="<%= post.ì¶œì‹œë…„ë„ %>" selected>
                                    <%= post.ì¶œì‹œë…„ë„ %>
                                </option>
                                <% for (var i=new Date().getFullYear(); i>= 1980; i--) { %>
                                    <option value="<%= i %>">
                                        <%= i %>
                                    </option>
                                    <% } %>
                            </select>
                        </div>
                        <div class="col">
                            <label for="category" class="form-label">ì¥ë¥´</label>
                            <select class="form-select mb-3" aria-label="Default select example" id="category" name="category">
                                <option value="<%= post.ì¥ë¥´ %>" selected>
                                    <%= post.ì¥ë¥´ %>
                                </option>
                                <option value="ì•¡ì…˜í˜¸ëŸ¬">ì•¡ì…˜í˜¸ëŸ¬</option>
                                <option value="ì½”ë¯¸ë””í˜¸ëŸ¬">ì½”ë¯¸ë””í˜¸ëŸ¬</option>
                                <option value="ì‹¬ë¦¬í˜¸ëŸ¬">ì‹¬ë¦¬í˜¸ëŸ¬</option>
                                <option value="ì´ˆìì—°í˜¸ëŸ¬">ì´ˆìì—°í˜¸ëŸ¬</option>
                                <option value="ê³ ë”•í˜¸ëŸ¬">ê³ ë”•í˜¸ëŸ¬</option>
                                <option value="ìŠ¬ë˜ì…”">ìŠ¬ë˜ì…”</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="desc" class="form-label">ì„¤ëª…</label>
                        <textarea class="form-control" name="description" id="desc" rows="3"><%= post.ì„¤ëª… %></textarea>
                        <span id="descError" style="color: red; display: none;"></span>
                    </div>
                </div>
                <p style="color: crimson; ">ğŸ‘» íŒŒì¼ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥ í•©ë‹ˆë‹¤. í•´ë‹¹ ê²Œì‹œë¬¼ ì‚­ì œ í›„ ì¬ì—…ë¡œë“œ í•´ì£¼ì„¸ìš”.ğŸ‘»</p>
                <br>
                <button type="submit" class="btn btn-outline-primary">Submit</button>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
    <script>
        let form = document.querySelector('#form1');
        form.addEventListener('submit', function (event) {
            let title = document.querySelector('#title').value;
            let director = document.querySelector('#director').value;
            let actor = document.querySelector('#actor').value;
            let year = document.querySelector('#year').value;
            let category = document.querySelector('#category').value;
            let desc = document.querySelector('#desc').value;
            if (!title) {
                const titleError = document.getElementById("titleError");
                titleError.innerHTML = "ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”.";
                titleError.style.display = "block";
                event.preventDefault();
            } else {
                document.getElementById("titleError").style.display = "none";
            }
            if (!director) {
                const dirError = document.getElementById("dirError");
                dirError.innerHTML = "ê°ë…ì„ ì…ë ¥í•˜ì„¸ìš”.";
                dirError.style.display = "block";
                event.preventDefault();
            } else {
                document.getElementById("dirError").style.display = "none";
            }
            if (!actor) {
                const actorError = document.getElementById("actorError");
                actorError.innerHTML = "ë°°ìš°ë¥¼ ì…ë ¥í•˜ì„¸ìš”.";
                actorError.style.display = "block";
                event.preventDefault();
            } else {
                document.getElementById("actorError").style.display = "none";
            }
            if (!desc) {
                const descError = document.getElementById("descError");
                descError.innerHTML = "ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.";
                descError.style.display = "block";
                event.preventDefault();
            } else {
                document.getElementById("descError").style.display = "none";
            }
            if (title && director && actor && desc) {
                alert("ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
            }
        });
    </script>
    </body>

    </html>